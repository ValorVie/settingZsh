# 需求確認書撰寫檢查清單

**版本**: 1.0.0
**建立日期**: 2025-01-13
**用途**: 確保需求確認書的完整性與品質

---

## 使用方式

在完成需求確認書後,使用本檢查清單進行自我檢查。每完成一個項目就勾選 `[x]`,確保沒有遺漏任何重要內容。

---

## 階段一: 需求分析階段

### 1.1 需求收集

- [ ] 已與客戶/產品經理確認功能需求
- [ ] 已確認功能的優先級 (必須/應該/可以)
- [ ] 已了解功能的使用情境與目標使用者
- [ ] 已確認預期上線時間與里程碑
- [ ] 已評估是否需要外部依賴 (第三方 API、套件等)

### 1.2 技術可行性評估

- [ ] 已評估現有架構是否支援此功能
- [ ] 已確認是否需要資料庫結構變更
- [ ] 已確認是否需要新增外部套件
- [ ] 已評估效能影響 (記憶體、CPU、網路)
- [ ] 已評估安全性風險
- [ ] 已評估向後相容性

### 1.3 範圍確認

- [ ] 已明確定義功能範圍 (In Scope)
- [ ] 已明確定義不包含的範圍 (Out of Scope)
- [ ] 已確認是否影響其他模組
- [ ] 已確認是否需要修改 API
- [ ] 已確認是否需要資料遷移

---

## 階段二: 文件撰寫階段

### 2.1 文件標頭 (必填)

- [ ] ✅ 文件標題使用繁體中文
- [ ] ✅ 版本號正確 (初版使用 v1.0)
- [ ] ✅ 建立日期與最後更新日期正確
- [ ] ✅ 專案名稱已填寫
- [ ] ✅ 功能名稱 (英文) 已填寫

---

### 2.2 第一章: 功能概述

- [ ] ✅ 1-2 段功能說明完整
- [ ] ✅ 說明「為什麼」需要此功能
- [ ] ✅ 說明「做什麼」(核心功能)
- [ ] ✅ 說明與現有系統的關係

---

### 2.3 第二章: 核心需求確認

- [ ] ✅ 功能需求已列出 (FR1, FR2, ...)
- [ ] ✅ 每個需求有明確的驗收標準
- [ ] ✅ 非功能需求已列出 (效能、安全、可用性)
- [ ] ✅ 資料流程圖已繪製
- [ ] ✅ 所有需求可驗證、可測試
- [ ] ⚠️ 需求使用「必須」、「應該」、「可以」區分優先級
- [ ] ⚠️ 效能需求有具體數字 (如「< 5ms」)

---

### 2.4 第三章: 技術方案概要

- [ ] ✅ 資料庫設計已說明 (如有變更)
- [ ] ✅ 核心技術選型已說明
- [ ] ✅ 架構設計已說明 (分層、元件)
- [ ] ✅ 資料流程圖已繪製
- [ ] ⚠️ 技術選型有合理理由
- [ ] ⚠️ 資料表設計包含所有必要欄位

---

### 2.5 第四章: 新舊架構比較 (新功能必填)

**🔴 如果是新功能,以下項目必須完成:**

- [ ] ✅ 4.1 現有架構 (舊版) 已完成
  - [ ] 架構圖已繪製
  - [ ] 元件清單已列出
  - [ ] 現有邏輯程式碼已引用 (File:LineNumber)
- [ ] ✅ 4.2 新架構 (新版) 已完成
  - [ ] 新架構圖已繪製
  - [ ] 新增元件清單已列出
  - [ ] 新邏輯程式碼片段已提供
- [ ] ✅ 4.3 新舊架構對比表已完成
  - [ ] 至少 5 個比較項目
  - [ ] 使用 ✅ ❌ ⚠️ 標記差異
- [ ] ✅ 4.4 記憶體/效能影響對比已完成
  - [ ] 量化數據 (如「+12 MB」)

**🟡 如果是獨立新模組,可簡化或省略**

---

### 2.6 第五章: 新舊流程比較 (新功能必填)

**🔴 如果是新功能,以下項目必須完成:**

- [ ] ✅ 5.1 現有流程 (舊版) 已完成
  - [ ] 流程圖已繪製
  - [ ] 關鍵時間點表已列出
  - [ ] 總延遲已標註
- [ ] ✅ 5.2 新流程 (新版) 已完成
  - [ ] 新流程圖已繪製 (標註 [NEW])
  - [ ] 關鍵時間點表已列出
  - [ ] 檢查耗時對比已說明
- [ ] ✅ 5.3 流程對比表已完成
- [ ] ⚠️ 5.4 多種模式的流程比較 (如適用)
- [ ] ✅ 5.5 效能影響分析已完成
  - [ ] 單則訊息耗時對比
  - [ ] 批次處理效能對比
  - [ ] 結論說明清楚

---

### 2.7 第六章: API 介面 (如有 API 變更)

**🟡 如果沒有 API 變更,可省略此章節**

- [ ] ✅ 每個 API 端點都有完整定義
  - [ ] HTTP Method + Path
  - [ ] 請求參數 / Body (JSON 範例)
  - [ ] 回應格式 (JSON 範例)
  - [ ] 錯誤代碼說明
  - [ ] 權限要求 (Admin/User/Public)
- [ ] ⚠️ API 設計遵循 RESTful 原則
- [ ] ⚠️ 回應格式一致

---

### 2.8 第七章: 設定參數

- [ ] ✅ appsettings.json 新增項目已列出
- [ ] ✅ 參數說明表已完成
  - [ ] 參數名稱
  - [ ] 可選值
  - [ ] 預設值
  - [ ] 說明
- [ ] ⚠️ 設定模式說明 (如有多種模式)

---

### 2.9 第八章: 實作範圍

- [ ] ✅ 8.1 新增檔案清單已列出
  - [ ] 依 Clean Architecture 分層
  - [ ] 每個檔案有用途說明
- [ ] ✅ 8.2 修改檔案清單已列出
  - [ ] 說明修改內容
- [ ] ✅ 8.3 依賴套件已列出 (如有新增)
  - [ ] 套件名稱
  - [ ] 版本號
  - [ ] 用途
  - [ ] 授權
  - [ ] 安裝指令

---

### 2.10 第九章: 測試計畫

- [ ] ✅ 9.1 單元測試案例已列出
  - [ ] 至少 3-5 個測試案例
- [ ] ✅ 9.2 效能測試已定義
  - [ ] 目標效能指標明確 (如「< 5ms」)
- [ ] ✅ 9.3 整合測試已定義
  - [ ] 端到端流程測試
  - [ ] API 端點測試 (如適用)
- [ ] ⚠️ 9.4 壓力測試 (如需要)

---

### 2.11 第十章: 預期效益

- [ ] ✅ 10.1 業務效益已說明 (質化)
- [ ] ✅ 10.2 技術效益已說明 (質化)
- [ ] ✅ 10.3 可量化指標已提供
  - [ ] 使用對比表呈現
  - [ ] 標註改善幅度 (如「↓ 50%」)
  - [ ] 說明假設條件

---

### 2.12 第十一章: 風險與限制

- [ ] ✅ 11.1 技術限制已列出 (3-5 項)
  - [ ] 具體說明限制內容
  - [ ] 說明影響範圍
- [ ] ✅ 11.2 業務風險已列出 (2-3 項)
  - [ ] 說明風險內容
  - [ ] 說明可能影響
- [ ] ✅ 11.3 緩解措施已提供
  - [ ] 每個風險都有對策

---

### 2.13 第十二章: 實作時程估算

- [ ] ✅ 12.1 分階段工時估算已完成
  - [ ] 依開發階段分解
  - [ ] 包含測試與文件時間
  - [ ] 總工時合理
- [ ] ✅ 12.2 里程碑規劃已完成
  - [ ] 每個里程碑有完成標準
  - [ ] 預計完成日標註為 D+[天數]

---

### 2.14 第十三章: 待客戶確認事項

- [ ] ✅ 已確認需求勾選清單已列出
- [ ] ✅ 待決策問題已列出 (3-6 個)
  - [ ] 每個問題提供選項
  - [ ] 提供建議選項與理由
  - [ ] 預留客戶填寫空間
- [ ] ✅ 其他建議或疑慮欄位已提供

---

### 2.15 第十四章: 客戶簽核

- [ ] ✅ 需求確認聲明勾選清單已列出
- [ ] ✅ 變更管理條款已說明
- [ ] ✅ 簽核資訊欄位已提供

---

### 2.16 附錄章節 (選填)

**🟡 依實際需要選填以下附錄:**

- [ ] ⚠️ 附錄 A: 資料表結構 (有 DB 變更時)
  - [ ] DDL (CREATE TABLE) 完整
  - [ ] 欄位說明表完整
- [ ] ⚠️ 附錄 B: DTO 定義 (有 API 時)
  - [ ] C# class 定義完整
  - [ ] XML 註解完整
- [ ] ⚠️ 附錄 C: 列舉型別定義 (有新 enum 時)
  - [ ] C# enum 定義完整
  - [ ] XML 註解完整
- [ ] ⚠️ 附錄 D: 演算法說明 (複雜演算法時)
  - [ ] 演算法原理說明
  - [ ] 時間/空間複雜度
  - [ ] 適用場景

---

## 階段三: 格式與品質檢查

### 3.1 Markdown 格式檢查

- [ ] ✅ 標題層級正確 (H1 僅文件標題, H2 章節, H3 小節)
- [ ] ✅ 表格格式正確 (對齊、分隔線)
- [ ] ✅ 程式碼區塊有語言標記 (\```csharp, \```json, \```sql)
- [ ] ✅ 清單格式一致 (無序清單使用 `-`, 有序清單使用數字)
- [ ] ✅ 超連結有效 (如引用其他文件)
- [ ] ✅ 中英文標點符號正確

### 3.2 語言與術語檢查

- [ ] ✅ 文件內容使用繁體中文
- [ ] ✅ 程式碼與變數名稱使用英文
- [ ] ✅ 專有名詞保留英文 (API, Regex, JSON, etc.)
- [ ] ✅ 混合使用格式正確 (如「白名單字串檢查（Whitelist String Check）」)
- [ ] ✅ 避免拼音命名
- [ ] ✅ 避免過度技術術語 (客戶友善)

### 3.3 視覺呈現檢查

- [ ] ✅ 架構圖清晰易懂
- [ ] ✅ 流程圖方向一致 (由上而下或由左而右)
- [ ] ✅ 表格對齊美觀
- [ ] ✅ 程式碼縮排正確 (4 個空格)
- [ ] ✅ 關鍵資訊使用 **粗體** 標記
- [ ] ✅ 差異使用符號標記 (✅ ❌ ⚠️ 🔴 🟡)

### 3.4 技術準確性檢查

- [ ] ✅ 架構圖與程式碼一致
- [ ] ✅ API 規格可實作
- [ ] ✅ 資料表結構完整
- [ ] ✅ 效能指標合理
- [ ] ✅ 工時估算有依據
- [ ] ✅ 程式碼片段正確 (語法、邏輯)
- [ ] ✅ 檔案路徑正確
- [ ] ✅ 引用程式碼行號正確 (File:LineNumber)

### 3.5 客戶可讀性檢查

- [ ] ✅ 避免過度技術細節
- [ ] ✅ 關鍵概念有解釋
- [ ] ✅ 流程圖有文字說明
- [ ] ✅ 專有名詞首次出現有說明
- [ ] ✅ 預期效益清楚易懂
- [ ] ✅ 風險與限制誠實揭露

---

## 階段四: 版本控制檢查

### 4.1 版本資訊檢查

- [ ] ✅ 文件標頭版本號正確
- [ ] ✅ 建立日期與最後更新日期正確
- [ ] ✅ 版本歷史已更新 (如有修改)
- [ ] ✅ 版本號規則正確 (v1.0, v1.1, v1.0.1)

### 4.2 Git 操作檢查

- [ ] ✅ 檔案已放在正確位置 (`docs/[feature]-requirement.md`)
- [ ] ✅ Commit message 遵循規範 (`文件(需求): [說明]`)
- [ ] ✅ 分支正確 (通常在 `develop` 或 feature 分支)

---

## 階段五: 交付前最終檢查

### 5.1 完整性最終確認

- [ ] ✅ 所有必填章節 (1-14 章) 已完成
- [ ] ✅ 所有必要附錄已完成
- [ ] ✅ 沒有 TODO 標記未完成
- [ ] ✅ 沒有空白章節
- [ ] ✅ 沒有 [待填寫] 欄位

### 5.2 可執行性確認

- [ ] ✅ 技術方案可行
- [ ] ✅ API 設計可實作
- [ ] ✅ 資料庫設計完整
- [ ] ✅ 工時估算合理
- [ ] ✅ 測試計畫可執行

### 5.3 客戶導向確認

- [ ] ✅ 客戶確認事項清楚
- [ ] ✅ 預期效益明確
- [ ] ✅ 風險揭露誠實
- [ ] ✅ 簽核欄位完整

### 5.4 文件品質確認

- [ ] ✅ 無錯字、錯別字
- [ ] ✅ 語句通順
- [ ] ✅ 邏輯連貫
- [ ] ✅ 格式美觀

---

## 通過標準

### ✅ 必須通過項目 (標記 ✅ 的項目)

所有標記 ✅ 的項目**必須全部完成**,才能提交給客戶審查。

### ⚠️ 建議完成項目 (標記 ⚠️ 的項目)

標記 ⚠️ 的項目**建議完成**,可提升文件品質,但非絕對必要。

### 🟡 條件性項目 (標記 🟡 的項目)

標記 🟡 的項目**依實際情況決定是否需要**:
- 如果是新功能且會影響現有流程 → 必填
- 如果是獨立新模組 → 可簡化
- 如果沒有該類型變更 → 可省略

### 🔴 新功能必填項目 (標記 🔴 的項目)

標記 🔴 的項目在**新增功能時必須完成**:
- 第四章: 新舊架構比較
- 第五章: 新舊流程比較

---

## 檢查結果記錄

**檢查日期**: ___________________________

**檢查人**: ___________________________

**必須通過項目 (✅)**: ___ / ___ 項完成

**建議完成項目 (⚠️)**: ___ / ___ 項完成

**條件性項目 (🟡)**: ___ / ___ 項完成 (依需求)

**整體品質評分**: ☐ 優秀  ☐ 良好  ☐ 需改進

**可以提交客戶審查**: ☐ 是  ☐ 否

**備註**: ___________________________

---

**文件版本**: 1.0.0
**最後更新**: 2025-01-13
